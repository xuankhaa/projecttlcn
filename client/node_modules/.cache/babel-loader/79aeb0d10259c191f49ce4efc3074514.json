{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Tanh\\\\Music\\\\ShopTTT\\\\client\\\\src\\\\components\\\\Admin\\\\components\\\\AdminProduct\\\\DataFilterProduct\\\\CreateInfoFilter.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport \"./DataFilterProduct.css\";\nimport { useForm } from \"react-hook-form\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { CreateSelectListItem, getAllSelectList } from \"../../../../../actions/SelectListAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateInfoFilter() {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      addOption = _useState2[0],\n      setAddOption = _useState2[1];\n\n  var handleAddOption = function handleAddOption() {\n    var newOption = {\n      index: Math.random(),\n      value: \"\"\n    };\n    setAddOption([].concat(_toConsumableArray(addOption), [newOption]));\n  };\n\n  var handleRemoveOption = function handleRemoveOption(option) {\n    var newListOption = _toConsumableArray(addOption);\n\n    newListOption = newListOption.filter(function (item) {\n      return item.index !== option.index;\n    });\n    setAddOption(newListOption);\n  };\n\n  var handleChangeValueOption = function handleChangeValueOption(option, e) {\n    var newListOption = _toConsumableArray(addOption);\n\n    var index = newListOption.findIndex(function (item) {\n      return item.index === option.index;\n    });\n    newListOption[index].value = e.target.value;\n    setAddOption(newListOption);\n  };\n\n  var createArrayOption = function createArrayOption(arr) {\n    var options = [];\n    arr = arr.map(function (item) {\n      return options.push(\"\".concat(item.value));\n    });\n    return options;\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, e) {\n      var options, newData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              options = createArrayOption(_toConsumableArray(addOption));\n              newData = _objectSpread(_objectSpread({}, data), {}, {\n                options: options\n              });\n              _context.next = 4;\n              return dispatch(CreateSelectListItem(newData));\n\n            case 4:\n              setAddOption([]);\n              e.target.reset();\n              dispatch(getAllSelectList());\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"update-filter-info\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Create select product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({}, register(\"name\")), {}, {\n        placeholder: \"Name ... \"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({}, register(\"property\")), {}, {\n        placeholder: \"Property ...\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option-list\",\n        children: addOption.map(function (option, index) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option-list-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              value: option.value,\n              placeholder: \"Option ...\",\n              onChange: function onChange(e) {\n                handleChangeValueOption(option, e);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: function onClick() {\n                return handleRemoveOption(option);\n              },\n              children: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: handleAddOption,\n        children: \"Add Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateInfoFilter, \"Ef8BxZZh4+QQcA8rTolHbkHsPCg=\", false, function () {\n  return [useDispatch, useForm];\n});\n\n_c = CreateInfoFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateInfoFilter\");","map":{"version":3,"sources":["C:/Users/Tanh/Music/ShopTTT/client/src/components/Admin/components/AdminProduct/DataFilterProduct/CreateInfoFilter.js"],"names":["React","useState","useDispatch","useForm","CloseOutlined","CreateSelectListItem","getAllSelectList","CreateInfoFilter","dispatch","register","handleSubmit","addOption","setAddOption","handleAddOption","newOption","index","Math","random","value","handleRemoveOption","option","newListOption","filter","item","handleChangeValueOption","e","findIndex","target","createArrayOption","arr","options","map","push","onSubmit","data","newData","reset"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport \"./DataFilterProduct.css\";\nimport { useForm } from \"react-hook-form\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { CreateSelectListItem, getAllSelectList } from \"../../../../../actions/SelectListAction\";\n\nexport default function CreateInfoFilter() {\n  const dispatch = useDispatch();\n  const { register, handleSubmit } = useForm();\n  const [addOption, setAddOption] = useState([]);\n  \n  const handleAddOption = () => {\n    const newOption = {\n      index: Math.random(),\n      value: \"\",\n    };\n    setAddOption([...addOption, newOption]);\n  };\n\n  const handleRemoveOption = (option) => {\n    let newListOption = [...addOption];\n    newListOption = newListOption.filter((item) => item.index !== option.index);\n\n    setAddOption(newListOption);\n  };\n\n  const handleChangeValueOption = (option, e) => {\n    const newListOption = [...addOption];\n    const index = newListOption.findIndex(\n      (item) => item.index === option.index\n    );\n\n    newListOption[index].value = e.target.value;\n    setAddOption(newListOption);\n  };\n\n  const createArrayOption = (arr) => {\n    let options = [];\n    arr = arr.map((item) => options.push(`${item.value}`));\n    return options;\n  };\n\n  const onSubmit = async (data, e) => {\n    const options = createArrayOption([...addOption]);\n    const newData = { ...data, options };\n    await dispatch(CreateSelectListItem(newData));\n    setAddOption([]);\n    e.target.reset();\n    dispatch(getAllSelectList())\n  };\n\n  return (\n    <div className=\"update-filter-info\">\n      <span>Create select product</span>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input {...register(\"name\")} placeholder=\"Name ... \" />\n          <input {...register(\"property\")} placeholder=\"Property ...\" />\n          <div className=\"option-list\">\n            {addOption.map((option, index) => (\n              <div className=\"option-list-item\" key={index}>\n                <input value={option.value} placeholder=\"Option ...\" onChange={(e) => {handleChangeValueOption(option, e)}} />\n                <span onClick={() => handleRemoveOption(option)}>\n                  <CloseOutlined />\n                </span>\n              </div>\n            ))}\n          </div>\n          <span onClick={handleAddOption}>Add Options</span>\n          <button type=\"submit\">Add</button>\n        </form>\n      </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}