{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Tanh\\\\Music\\\\ShopTTT\\\\client\\\\src\\\\components\\\\MyOrder\\\\components\\\\PenddingOrder\\\\PenddingOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { cancelOrder, getOrderPenddingByUser } from \"../../../../actions/OrderAction\";\nimport { formatPrice } from \"../../../../untils/index\";\nimport \"./PenddingOrder.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PenddingOrder(props) {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.orderByUser;\n  }),\n      myOrdersPendding = _useSelector.myOrdersPendding;\n\n  var _useSelector2 = useSelector(function (state) {\n    return state.userSignin;\n  }),\n      userInfo = _useSelector2.userInfo;\n\n  var orderParent = function orderParent(item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-myorder-parent-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-myorder-list\",\n        children: item.orderItems.map(function (item) {\n          return orderItem(item);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-myorder-item-totalprice\",\n        children: [item.paymentMethod === \"payOnline\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0110\\xE3 thanh to\\xE1n : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }, _this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"T\\u1ED5ng s\\u1ED1 ti\\u1EC1n : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, _this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [formatPrice(item.totalPrice), \"\\u0111\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"myorder-cancel\",\n          children: item.cancelOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0110ang y\\xEAu c\\u1EA7u h\\u1EE7y \\u0111\\u01A1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 33\n          }, _this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: function onClick() {\n              return handleCancelOrder(item);\n            },\n            children: \"H\\u1EE7y \\u0111\\u01A1n h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 71\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var orderItem = function orderItem(item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-myorder-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-myorder-item-img\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-myorder-item-name\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"x\", item.qty]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all-myorder-item-price\",\n        children: formatPrice(item.salePrice)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var handleCancelOrder = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(item) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return dispatch(cancelOrder(item._id));\n\n            case 2:\n              dispatch(getOrderPenddingByUser(userInfo._id));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleCancelOrder(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    dispatch(getOrderPenddingByUser(userInfo._id));\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-myorder\",\n    children: myOrdersPendding && myOrdersPendding.length > 0 ? myOrdersPendding.map(function (item) {\n      return orderParent(item);\n    }) : \"Bạn không có đơn hàng nào\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PenddingOrder, \"kMBuKUICaw024x9Trv6fxoQevuA=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = PenddingOrder;\nexport default PenddingOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"PenddingOrder\");","map":{"version":3,"sources":["C:/Users/Tanh/Music/ShopTTT/client/src/components/MyOrder/components/PenddingOrder/PenddingOrder.js"],"names":["React","useEffect","useDispatch","useSelector","cancelOrder","getOrderPenddingByUser","formatPrice","PenddingOrder","props","dispatch","state","orderByUser","myOrdersPendding","userSignin","userInfo","orderParent","item","orderItems","map","orderItem","paymentMethod","totalPrice","handleCancelOrder","image","name","qty","salePrice","_id","length"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACEC,WADF,EAEEC,sBAFF,QAGO,iCAHP;AAIA,SAASC,WAAT,QAA4B,0BAA5B;AACA,OAAO,qBAAP;;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAAA;;AAAA;;AAC5B,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AACA,qBAA6BC,WAAW,CAAC,UAACO,KAAD;AAAA,WAAWA,KAAK,CAACC,WAAjB;AAAA,GAAD,CAAxC;AAAA,MAAQC,gBAAR,gBAAQA,gBAAR;;AACA,sBAAqBT,WAAW,CAAC,UAACO,KAAD;AAAA,WAAWA,KAAK,CAACG,UAAjB;AAAA,GAAD,CAAhC;AAAA,MAAQC,QAAR,iBAAQA,QAAR;;AAEA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD;AAAA,wBAClB;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA,kBACGA,IAAI,CAACC,UAAL,CAAgBC,GAAhB,CAAoB,UAACF,IAAD;AAAA,iBAAUG,SAAS,CAACH,IAAD,CAAnB;AAAA,SAApB;AADH;AAAA;AAAA;AAAA;AAAA,eADF,eAIE;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA,mBACGA,IAAI,CAACI,aAAL,KAAuB,WAAvB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,EAKK,GALL,eAME;AAAA,qBAASd,WAAW,CAACU,IAAI,CAACK,UAAN,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,eAOE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,oBAEIL,IAAI,CAACZ,WAAL,gBAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAApB,gBAA0D;AAAM,YAAA,OAAO,EAAE;AAAA,qBAAMkB,iBAAiB,CAACN,IAAD,CAAvB;AAAA,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAF9D;AAAA;AAAA;AAAA;AAAA,iBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF;AAAA;AAAA;AAAA;AAAA;AAAA,aADkB;AAAA,GAApB;;AAoBA,MAAMG,SAAS,GAAG,SAAZA,SAAY,CAACH,IAAD;AAAA,wBAChB;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEA,IAAI,CAACO;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,eADF,eAIE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,gCACE;AAAA,oBAAIP,IAAI,CAACQ;AAAT;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAA,0BAAQR,IAAI,CAACS,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,eAJF,eAQE;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA,kBACGnB,WAAW,CAACU,IAAI,CAACU,SAAN;AADd;AAAA;AAAA;AAAA;AAAA,eARF;AAAA;AAAA;AAAA;AAAA;AAAA,aADgB;AAAA,GAAlB;;AAeA,MAAMJ,iBAAiB;AAAA,wEAAG,iBAAON,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAClBP,QAAQ,CAACL,WAAW,CAACY,IAAI,CAACW,GAAN,CAAZ,CADU;;AAAA;AAExBlB,cAAAA,QAAQ,CAACJ,sBAAsB,CAACS,QAAQ,CAACa,GAAV,CAAvB,CAAR;;AAFwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAjBL,iBAAiB;AAAA;AAAA;AAAA,KAAvB;;AAKArB,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,QAAQ,CAACJ,sBAAsB,CAACS,QAAQ,CAACa,GAAV,CAAvB,CAAR;AACD,GAFQ,EAEN,CAAClB,QAAD,CAFM,CAAT;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,cACGG,gBAAgB,IAAIA,gBAAgB,CAACgB,MAAjB,GAA0B,CAA9C,GACGhB,gBAAgB,CAACM,GAAjB,CAAqB,UAACF,IAAD;AAAA,aAAUD,WAAW,CAACC,IAAD,CAArB;AAAA,KAArB,CADH,GAEG;AAHN;AAAA;AAAA;AAAA;AAAA,UADF;AAOD;;GAxDQT,a;UACUL,W,EACYC,W,EACRA,W;;;KAHdI,a;AA0DT,eAAeA,aAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  cancelOrder,\n  getOrderPenddingByUser,\n} from \"../../../../actions/OrderAction\";\nimport { formatPrice } from \"../../../../untils/index\";\nimport \"./PenddingOrder.css\";\n\nfunction PenddingOrder(props) {\n  const dispatch = useDispatch();\n  const { myOrdersPendding } = useSelector((state) => state.orderByUser);\n  const { userInfo } = useSelector((state) => state.userSignin);\n\n  const orderParent = (item) => (\n    <div className=\"all-myorder-parent-item\">\n      <div className=\"all-myorder-list\">\n        {item.orderItems.map((item) => orderItem(item))}\n      </div>\n      <div className=\"all-myorder-item-totalprice\">\n        {item.paymentMethod === \"payOnline\" ? (\n          <span>Đã thanh toán : </span>\n        ) : (\n          <span>Tổng số tiền : </span>\n        )}{\" \"}\n        <strong>{formatPrice(item.totalPrice)}đ</strong>\n        <div className=\"myorder-cancel\">\n          {\n            item.cancelOrder ? (<span>Đang yêu cầu hủy đơn</span>) : (<span onClick={() => handleCancelOrder(item)}>Hủy đơn hàng</span>)\n          }\n        </div>\n      </div>\n    </div>\n  );\n  const orderItem = (item) => (\n    <div className=\"all-myorder-item\">\n      <div className=\"all-myorder-item-img\">\n        <img src={item.image}></img>\n      </div>\n      <div className=\"all-myorder-item-name\">\n        <p>{item.name}</p>\n        <span>x{item.qty}</span>\n      </div>\n      <div className=\"all-myorder-item-price\">\n        {formatPrice(item.salePrice)}\n      </div>\n    </div>\n  );\n\n  const handleCancelOrder = async (item) => {\n    await dispatch(cancelOrder(item._id));\n    dispatch(getOrderPenddingByUser(userInfo._id));\n  };\n\n  useEffect(() => {\n    dispatch(getOrderPenddingByUser(userInfo._id));\n  }, [dispatch]);\n\n  return (\n    <div className=\"all-myorder\">\n      {myOrdersPendding && myOrdersPendding.length > 0\n        ? myOrdersPendding.map((item) => orderParent(item))\n        : \"Bạn không có đơn hàng nào\"}\n    </div>\n  );\n}\n\nexport default PenddingOrder;\n"]},"metadata":{},"sourceType":"module"}