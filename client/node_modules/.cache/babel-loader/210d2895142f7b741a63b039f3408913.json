{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Tanh\\\\Music\\\\ShopTTT\\\\client\\\\src\\\\components\\\\Admin\\\\components\\\\AdminProduct\\\\DataFilterProduct\\\\FilterMenu.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Dropdown } from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteSelectListItemById, getAllSelectList, UpdateSelectListItem } from \"../../../../../actions/SelectListAction\";\nimport { Modal } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { useForm } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FilterMenu() {\n  _s();\n\n  var _this = this;\n\n  var dispatch = useDispatch();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      chooseSelectItem = _useState2[0],\n      setChooseSelectItem = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isModalVisible = _useState4[0],\n      setIsModalVisible = _useState4[1];\n\n  var filterMenuList = useSelector(function (state) {\n    return state.selectList.List;\n  });\n  useEffect(function () {\n    dispatch(getAllSelectList());\n  }, [dispatch]);\n\n  var showModal = function showModal(item) {\n    setChooseSelectItem(item);\n    setIsModalVisible(true);\n  };\n\n  var handleCancel = function handleCancel() {\n    setIsModalVisible(false);\n    setChooseSelectItem(undefined);\n  };\n\n  var handleAddOption = function handleAddOption() {\n    var newOption = \"\";\n    setChooseSelectItem(_objectSpread(_objectSpread({}, chooseSelectItem), {}, {\n      options: [].concat(_toConsumableArray(chooseSelectItem.options), [newOption])\n    }));\n  };\n\n  var handleRemoveOption = function handleRemoveOption(option, index) {\n    var newChooseSelectItem = _objectSpread({}, chooseSelectItem);\n\n    var newOptions = newChooseSelectItem.options.filter(function (item, indexItem) {\n      return indexItem !== index;\n    });\n    setChooseSelectItem(_objectSpread(_objectSpread({}, chooseSelectItem), {}, {\n      options: newOptions\n    }));\n  };\n\n  var handleChangeValueOption = function handleChangeValueOption(option, index, e) {\n    var content = e.target.value;\n\n    var newChooseSelectItem = _objectSpread({}, chooseSelectItem);\n\n    newChooseSelectItem.options[index] = content;\n    setChooseSelectItem(newChooseSelectItem);\n  };\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data, e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return dispatch(UpdateSelectListItem(chooseSelectItem));\n\n            case 2:\n              handleCancel();\n              dispatch(getAllSelectList());\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var filterMenuItemAntd = function filterMenuItemAntd(item) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-menu-item\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-menu-item-name\",\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          overlay: menuShow(item),\n          trigger: [\"click\"],\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ant-dropdown-link\",\n            children: [item.name, /*#__PURE__*/_jsxDEV(DownOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, _this);\n  };\n\n  var removeSelectItem = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return dispatch(deleteSelectListItemById(item._id));\n\n            case 2:\n              dispatch(getAllSelectList());\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function removeSelectItem(_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var menuShow = function menuShow(menuItem) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-show\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-show-list\",\n        children: menuItem.options.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-show-item\",\n            children: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-show-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel\",\n          onClick: function onClick() {\n            return showModal(menuItem);\n          },\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel\",\n          onClick: function onClick() {\n            return removeSelectItem(menuItem);\n          },\n          children: \" Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-menu\",\n      children: [filterMenuList && filterMenuList.length > 0 ? filterMenuList.map(function (item) {\n        return filterMenuItemAntd(item);\n      }) : \"\", chooseSelectItem ? /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Update \".concat(chooseSelectItem.name),\n        visible: isModalVisible,\n        onCancel: handleCancel,\n        footer: false,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(onSubmit),\n          className: \"form-update-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({}, register(\"name\")), {}, {\n            placeholder: \"Name ... \",\n            defaultValue: chooseSelectItem.name\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", _objectSpread(_objectSpread({}, register(\"property\")), {}, {\n            placeholder: \"Property ...\",\n            defaultValue: chooseSelectItem.property\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option-list\",\n            children: chooseSelectItem.options.map(function (option, index) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-list-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  value: option,\n                  placeholder: \"Option ...\",\n                  onChange: function onChange(e) {\n                    handleChangeValueOption(option, index, e);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: function onClick() {\n                    return handleRemoveOption(option, index);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, _this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: handleAddOption,\n            children: \"Add Options\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FilterMenu, \"89qpFlDmXRugVKxzILHNo1v2br8=\", false, function () {\n  return [useDispatch, useForm, useSelector];\n});\n\n_c = FilterMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterMenu\");","map":{"version":3,"sources":["C:/Users/Tanh/Music/ShopTTT/client/src/components/Admin/components/AdminProduct/DataFilterProduct/FilterMenu.js"],"names":["React","useEffect","useState","Dropdown","DownOutlined","useDispatch","useSelector","deleteSelectListItemById","getAllSelectList","UpdateSelectListItem","Modal","CloseOutlined","useForm","FilterMenu","dispatch","register","handleSubmit","undefined","chooseSelectItem","setChooseSelectItem","isModalVisible","setIsModalVisible","filterMenuList","state","selectList","List","showModal","item","handleCancel","handleAddOption","newOption","options","handleRemoveOption","option","index","newChooseSelectItem","newOptions","filter","indexItem","handleChangeValueOption","e","content","target","value","onSubmit","data","filterMenuItemAntd","menuShow","name","removeSelectItem","_id","menuItem","map","length","property"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Dropdown } from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  deleteSelectListItemById,\n  getAllSelectList,\n  UpdateSelectListItem,\n} from \"../../../../../actions/SelectListAction\";\nimport { Modal } from \"antd\";\nimport { CloseOutlined } from \"@ant-design/icons\";\nimport { useForm } from \"react-hook-form\";\n\nexport default function FilterMenu() {\n  const dispatch = useDispatch();\n  const { register, handleSubmit } = useForm();\n\n  const [chooseSelectItem, setChooseSelectItem] = useState(undefined);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const filterMenuList = useSelector((state) => state.selectList.List);\n\n  useEffect(() => {\n    dispatch(getAllSelectList());\n  }, [dispatch]);\n\n  const showModal = (item) => {\n    setChooseSelectItem(item);\n    setIsModalVisible(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    setChooseSelectItem(undefined);\n  };\n\n  const handleAddOption = () => {\n    const newOption = \"\";\n    setChooseSelectItem({\n      ...chooseSelectItem,\n      options: [...chooseSelectItem.options, newOption],\n    });\n  };\n\n  const handleRemoveOption = (option, index) => {\n    let newChooseSelectItem = { ...chooseSelectItem };\n    const newOptions = newChooseSelectItem.options.filter(\n      (item, indexItem) => indexItem !== index\n    );\n    setChooseSelectItem({ ...chooseSelectItem, options: newOptions });\n  };\n\n  const handleChangeValueOption = (option, index, e) => {\n    const content = e.target.value;\n    let newChooseSelectItem = { ...chooseSelectItem };\n    newChooseSelectItem.options[index] = content;\n\n    setChooseSelectItem(newChooseSelectItem);\n  };\n\n  const onSubmit = async (data, e) => {\n    await dispatch(UpdateSelectListItem(chooseSelectItem));\n    handleCancel()\n    dispatch(getAllSelectList())\n  };\n\n  const filterMenuItemAntd = (item) => (\n    <div className=\"filter-menu-item\">\n      <div className={`filter-menu-item-name`}>\n        <Dropdown overlay={menuShow(item)} trigger={[\"click\"]}>\n          <span className=\"ant-dropdown-link\">\n            {item.name}\n            <DownOutlined />\n          </span>\n        </Dropdown>\n      </div>\n    </div>\n  );\n\n  const removeSelectItem = async (item) => {\n    await dispatch(deleteSelectListItemById(item._id))\n    dispatch(getAllSelectList())\n  }\n\n  const menuShow = (menuItem) => (\n    <div className=\"menu-show\">\n      <div className=\"menu-show-list\">\n        {menuItem.options.map((item) => (\n          <div className={`menu-show-item`}>{item}</div>\n        ))}\n      </div>\n\n      <div className=\"menu-show-btn\">\n        <button className=\"cancel\" onClick={() => showModal(menuItem)}>\n          Update\n        </button>\n        <button className=\"cancel\" onClick={() => removeSelectItem(menuItem)}> Delete</button>\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      <div className=\"filter-menu\">\n        {filterMenuList && filterMenuList.length > 0\n          ? filterMenuList.map((item) => filterMenuItemAntd(item))\n          : \"\"}\n        {chooseSelectItem ? (\n          <Modal\n            title={`Update ${chooseSelectItem.name}`}\n            visible={isModalVisible}\n            onCancel={handleCancel}\n            footer={false}\n          >\n            <form\n              onSubmit={handleSubmit(onSubmit)}\n              className=\"form-update-select\"\n            >\n              <input\n                {...register(\"name\")}\n                placeholder=\"Name ... \"\n                defaultValue={chooseSelectItem.name}\n              />\n              <input\n                {...register(\"property\")}\n                placeholder=\"Property ...\"\n                defaultValue={chooseSelectItem.property}\n              />\n              <div className=\"option-list\">\n                {chooseSelectItem.options.map((option, index) => (\n                  <div className=\"option-list-item\" key={index}>\n                    <input\n                      value={option}\n                      placeholder=\"Option ...\"\n                      onChange={(e) => {\n                        handleChangeValueOption(option, index, e);\n                      }}\n                    />\n                    <span onClick={() => handleRemoveOption(option, index)}>\n                      <CloseOutlined />\n                    </span>\n                  </div>\n                ))}\n              </div>\n              <span onClick={handleAddOption}>Add Options</span>\n              <button type=\"submit\">Add</button>\n            </form>\n          </Modal>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}