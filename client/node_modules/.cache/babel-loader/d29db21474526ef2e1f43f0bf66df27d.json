{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Tanh/Music/ShopTTT/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Tanh\\\\Music\\\\ShopTTT\\\\client\\\\src\\\\components\\\\Admin\\\\components\\\\AdminOrder\\\\AdminOrderUI\\\\Order.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { createOrderGhn, PrintOrderGhn } from \"../../../../../actions/GhnAction\";\nimport { deleteOrder, getAllOrder, ShippingOrder } from \"../../../../../actions/OrderAction\";\nimport { formatPrice, formatDateOrderPaypal } from \"../../../../../untils/index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Order(props) {\n  _s();\n\n  var _this = this;\n\n  var order = props.order;\n  var dispatch = useDispatch();\n  var orderItems = order.orderItems,\n      totalPrice = order.totalPrice,\n      paymentMethod = order.paymentMethod,\n      cancelOrder = order.cancelOrder,\n      shippingAddress = order.shippingAddress,\n      status = order.status,\n      paymentResult = order.paymentResult;\n\n  var handleShippingOrder = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(order) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return dispatch(createOrderGhn(order._id));\n\n            case 2:\n              _context.next = 4;\n              return dispatch(ShippingOrder(order._id));\n\n            case 4:\n              dispatch(getAllOrder());\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleShippingOrder(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handlePrintOrder = function handlePrintOrder(order) {\n    dispatch(PrintOrderGhn(order._id));\n  };\n\n  var handleDeleteOrder = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(order) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return dispatch(deleteOrder(order._id));\n\n            case 2:\n              dispatch(getAllOrder());\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleDeleteOrder(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-list-items\",\n        children: orderItems.map(function (item) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-items-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"img\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"qty\",\n              children: [\"Qty: \", item.qty]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"name\",\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"price\",\n              children: formatPrice(item.salePrice)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toatalPrice\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"T\\u1ED5ng ti\\u1EC1n: \", formatPrice(totalPrice)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-info\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-info-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"\\u0110\\u1ECBa ch\\u1EC9 : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), \" \", \"  \", shippingAddress.name, \",\", \"\", shippingAddress.province, \", \", shippingAddress.district, \",\", \"  \", shippingAddress.ward, \", \", shippingAddress.detail, \",\", \" \", shippingAddress.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), paymentResult ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-payment-check\",\n        children: [\"Paid : \", formatDateOrderPaypal(paymentResult.update_time)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-bottom\",\n        children: [status === \"shipping\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0110\\xE3 x\\xE1c nh\\u1EADn\", \" \", paymentMethod === \"payOnline\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"& \\u0110\\xE3 thanh to\\xE1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-button\",\n          children: [status === \"pendding\" && cancelOrder === false ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"shipping\",\n              onClick: function onClick() {\n                return handleShippingOrder(order);\n              },\n              children: \"X\\xE1c nh\\u1EADn \\u0111\\u01A1n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false) : '', cancelOrder === true ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" Kh\\xE1ch y\\xEAu c\\u1EA7u h\\u1EE7y \\u0111\\u01A1n \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"shipping\",\n              onClick: function onClick() {\n                return handleDeleteOrder(order);\n              },\n              children: \"H\\u1EE7y \\u0111\\u01A1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Order, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"sources":["C:/Users/Tanh/Music/ShopTTT/client/src/components/Admin/components/AdminOrder/AdminOrderUI/Order.js"],"names":["React","useDispatch","createOrderGhn","PrintOrderGhn","deleteOrder","getAllOrder","ShippingOrder","formatPrice","formatDateOrderPaypal","Order","props","order","dispatch","orderItems","totalPrice","paymentMethod","cancelOrder","shippingAddress","status","paymentResult","handleShippingOrder","_id","handlePrintOrder","handleDeleteOrder","map","item","image","qty","name","salePrice","province","district","ward","detail","phone","update_time"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  createOrderGhn,\n  PrintOrderGhn,\n} from \"../../../../../actions/GhnAction\";\nimport { deleteOrder, getAllOrder, ShippingOrder } from \"../../../../../actions/OrderAction\";\nimport {\n  formatPrice,\n  formatDateOrderPaypal,\n} from \"../../../../../untils/index\";\n\nfunction Order(props) {\n  const { order } = props;\n  const dispatch = useDispatch();\n\n  const {\n    orderItems,\n    totalPrice,\n    paymentMethod,\n    cancelOrder,\n    shippingAddress,\n    status,\n    paymentResult,\n  } = order;\n\n  const handleShippingOrder = async (order) => {\n    await dispatch(createOrderGhn(order._id)); // create order in giaohangnhanh\n    await dispatch(ShippingOrder(order._id));\n\n    dispatch(getAllOrder());\n  };\n\n  const handlePrintOrder = (order) => {\n    dispatch(PrintOrderGhn(order._id));\n  };\n\n  const handleDeleteOrder = async (order) => {\n    await dispatch(deleteOrder(order._id))\n    dispatch(getAllOrder())\n  }\n\n  return (\n    <>\n      <div className=\"order-list\">\n        <div className=\"order-list-items\">\n          {orderItems.map((item) => (\n            <div className=\"order-items-item\">\n              <span className=\"img\">\n                <img src={item.image}></img>\n              </span>\n              <span className=\"qty\">Qty: {item.qty}</span>\n              <span className=\"name\">{item.name}</span>\n              <span className=\"price\">{formatPrice(item.salePrice)}</span>\n            </div>\n          ))}\n        </div>\n        <div className=\"toatalPrice\">\n          <span>Tổng tiền: {formatPrice(totalPrice)}</span>\n        </div>\n        <div className=\"order-info\">\n          <div className=\"order-info-address\">\n            <b>Địa chỉ : </b> {\"  \"}\n            {shippingAddress.name},{\"\"}\n            {shippingAddress.province}, {shippingAddress.district},{\"  \"}\n            {shippingAddress.ward}, {shippingAddress.detail},{\" \"}\n            {shippingAddress.phone}\n          </div>\n        </div>\n\n        {paymentResult ? (\n          <div className=\"order-payment-check\">\n            Paid : {formatDateOrderPaypal(paymentResult.update_time)}\n          </div>\n        ) : (\n          \"\"\n        )}\n\n        <div className=\"order-bottom\">\n          {status === \"shipping\" ? (\n            <div className=\"order-status\">\n              <span>\n                Đã xác nhận{\" \"}\n                {paymentMethod === \"payOnline\" ? (\n                  <span>& Đã thanh toán</span>\n                ) : (\n                  \"\"\n                )}\n              </span>\n            </div>\n          ) : (\n            \"\"\n          )}\n\n          <div className=\"order-button\">\n            {status === \"pendding\" && cancelOrder === false ? (\n              <>\n                <button\n                  className=\"shipping\"\n                  onClick={() => handleShippingOrder(order)}\n                >\n                  Xác nhận đơn hàng\n                </button>\n\n              </>\n            ) : (''\n            )}\n\n            {\n              cancelOrder === true ? (<>\n              <span> Khách yêu cầu hủy đơn </span>\n                <button\n                  className=\"shipping\"\n                  onClick={() => handleDeleteOrder(order)}\n                >\n                  Hủy đơn\n                </button>\n\n              </>) : ''\n            }\n\n            {/* {status === \"shipping\" ? (\n              <button\n                className=\"shipping\"\n                onClick={() => handlePrintOrder(order)}\n              >\n                In đơn hàng\n              </button>\n            ) : (\n              \"\"\n            )} */}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Order;\n"]},"metadata":{},"sourceType":"module"}