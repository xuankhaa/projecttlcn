{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/hoat/OneDrive - Hochiminh City University of Education/.gradle/Desktop/r/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/hoat/OneDrive - Hochiminh City University of Education/.gradle/Desktop/r/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nexport var login = function login(user) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _yield$axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('http://localhost:4000/user/login', user);\n\n            case 3:\n              _yield$axios$post = _context.sent;\n              data = _yield$axios$post.data;\n              dispatch({\n                type: 'USER_LOGIN_SUCCESS',\n                payload: data\n              });\n              localStorage.setItem('userInfo', JSON.stringify(data));\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              dispatch({\n                type: 'USER_LOGIN_FAIL',\n                payload: _context.t0.response.data.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var SignupUser = function SignupUser(user) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var _yield$axios$post2, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('http://localhost:4000/user/register', user);\n\n            case 3:\n              _yield$axios$post2 = _context2.sent;\n              data = _yield$axios$post2.data;\n              localStorage.setItem('userInfo', JSON.stringify(data));\n              dispatch({\n                type: 'USER_SIGNUP_SUCCESS',\n                payload: data\n              });\n              document.location.href = '/';\n              _context2.next = 12;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var SignoutUser = function SignoutUser(user) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              localStorage.removeItem('userInfo');\n              dispatch({\n                type: 'USER_SIGNOUT_SUCCESS',\n                payload: {}\n              });\n              document.location.href = '/';\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var getAllUser = function getAllUser() {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch, getState) {\n      var _getState, userInfo, _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _getState = getState(), userInfo = _getState.userSignin.userInfo;\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.get('http://localhost:4000/user');\n\n            case 4:\n              _yield$axios$get = _context4.sent;\n              data = _yield$axios$get.data;\n              dispatch({\n                type: 'GET_ALL_USER',\n                payload: data\n              });\n              _context4.next = 12;\n              break;\n\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](1);\n              dispatch({\n                type: 'GET_ALL_USER_FAIL',\n                payload: _context4.t0.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 9]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport var deleteUser = function deleteUser(userId) {\n  return /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch, getState) {\n      var _getState2, userInfo, _yield$axios$delete, data;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _getState2 = getState(), userInfo = _getState2.userSignin.userInfo;\n              _context5.prev = 1;\n              _context5.next = 4;\n              return axios.delete(\"http://localhost:4000/user/delete/\".concat(userId));\n\n            case 4:\n              _yield$axios$delete = _context5.sent;\n              data = _yield$axios$delete.data;\n              dispatch({\n                type: 'DELETE_USER',\n                payload: data\n              });\n              _context5.next = 12;\n              break;\n\n            case 9:\n              _context5.prev = 9;\n              _context5.t0 = _context5[\"catch\"](1);\n              dispatch({\n                type: 'DELETE_USER_FAIL',\n                error: _context5.t0.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 9]]);\n    }));\n\n    return function (_x6, _x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/hoat/OneDrive - Hochiminh City University of Education/.gradle/Desktop/r/client/src/actions/UserAction.js"],"names":["axios","login","user","dispatch","post","data","type","payload","localStorage","setItem","JSON","stringify","response","message","SignupUser","document","location","href","SignoutUser","removeItem","getAllUser","getState","userInfo","userSignin","get","deleteUser","userId","delete","error"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nexport const login = (user) => async (dispatch) => {\n    try {\n      const {data} = await axios.post('http://localhost:4000/user/login', user)\n      dispatch({ type: 'USER_LOGIN_SUCCESS', payload: data });\n      localStorage.setItem('userInfo', JSON.stringify(data));\n    } catch (error) {\n      dispatch({ type: 'USER_LOGIN_FAIL', payload: error.response.data.message });\n    }\n};\n\n\nexport const SignupUser = (user) => async (dispatch) => {\n    try {\n      const {data} = await axios.post('http://localhost:4000/user/register', user)\n      localStorage.setItem('userInfo', JSON.stringify(data));\n      dispatch({ type: 'USER_SIGNUP_SUCCESS', payload: data });\n      document.location.href = '/';\n    } catch (error) {\n    }\n};\n\nexport const SignoutUser = (user) => async (dispatch) => {\n  localStorage.removeItem('userInfo')\n  dispatch({type: 'USER_SIGNOUT_SUCCESS', payload: {} })\n  document.location.href = '/';\n};\n\nexport const getAllUser = () => async (dispatch, getState) => {\n  const {\n    userSignin: {userInfo},\n  } = getState()\n  try {\n    const {data} = await  axios.get('http://localhost:4000/user')\n    dispatch({type: 'GET_ALL_USER', payload: data})\n  } catch (error) {\n    dispatch({type: 'GET_ALL_USER_FAIL', payload: error.message})\n  }\n}\n\nexport const deleteUser = (userId) => async (dispatch, getState) => {\n  const {\n    userSignin: {userInfo},\n  } = getState()\n  try {\n    const {data} = await axios.delete(`http://localhost:4000/user/delete/${userId}`)\n    dispatch({type: 'DELETE_USER', payload: data})\n  } catch (error) {\n    dispatch({type: 'DELETE_USER_FAIL', error: error.message})\n  }\n}"]},"metadata":{},"sourceType":"module"}